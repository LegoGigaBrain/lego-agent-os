# Debug Report: [SHORT-DESCRIPTION]

> Generated by `/prp-debug` on [DATE]

## Problem Statement

[Clear description of what's being debugged]

## Environment

| Context | Value |
|---------|-------|
| Branch | [Git branch] |
| Commit | [Commit hash] |
| Node/Runtime | [Version] |
| OS | [Operating system] |

## Symptoms

### Observed Behavior
[What is happening]

### Expected Behavior
[What should happen]

### Error Output
```
[Error messages, stack traces, logs]
```

## Steps to Reproduce

1. [Step 1]
2. [Step 2]
3. [Step 3]
4. [Observe error]

---

## Investigation Log

### [TIMESTAMP] Initial Assessment

**Observation**: [What was first noticed]

**Initial hypothesis**: [First guess at the problem]

---

### [TIMESTAMP] Hypothesis: [DESCRIPTION]

**Rationale**: [Why this might be the cause]

**Action taken**:
```
[Command run or code examined]
```

**Result**:
```
[Output or finding]
```

**Conclusion**: [ ] Confirmed / [ ] Rejected / [ ] Partially confirmed

---

### [TIMESTAMP] Hypothesis: [DESCRIPTION]

**Rationale**: [Why this might be the cause]

**Action taken**:
```
[Command run or code examined]
```

**Result**:
```
[Output or finding]
```

**Conclusion**: [ ] Confirmed / [ ] Rejected / [ ] Partially confirmed

---

### [TIMESTAMP] Hypothesis: [DESCRIPTION]

**Rationale**: [Why this might be the cause]

**Action taken**:
```
[Command run or code examined]
```

**Result**:
```
[Output or finding]
```

**Conclusion**: [ ] Confirmed / [ ] Rejected / [ ] Partially confirmed

---

## Root Cause

### Confirmed Cause

[Definitive explanation of what's causing the issue]

### Location

```
File: path/to/file.ts
Line: 123-145
```

### Code Analysis

```typescript
// Problematic code
[Code snippet showing the issue]
```

**Why this fails**: [Explanation]

### Contributing Factors

1. [Factor that made this bug possible]
2. [Factor that made this bug hard to detect]
3. [Environmental factor if applicable]

---

## Fix Recommendation

### Immediate Fix

```typescript
// Suggested fix
[Code snippet showing the fix]
```

### Why This Works

[Explanation of why the fix resolves the issue]

### Alternative Approaches

| Approach | Pros | Cons |
|----------|------|------|
| [Approach 1] | [Pros] | [Cons] |
| [Approach 2] | [Pros] | [Cons] |

---

## Verification

### Manual Verification Steps

1. [ ] [Step to verify fix]
2. [ ] [Step to verify fix]

### Automated Tests to Add

```typescript
// Test case to prevent regression
describe('...', () => {
  it('should ...', () => {
    // Test implementation
  });
});
```

### Edge Cases to Consider

- [ ] [Edge case 1]
- [ ] [Edge case 2]

---

## Lessons Learned

### What Made This Hard to Debug

- [Factor 1]
- [Factor 2]

### Prevention Recommendations

- [ ] [How to prevent similar issues]
- [ ] [Test coverage to add]
- [ ] [Documentation to update]

---

## Next Steps

- [ ] Run `/prp-fix` to implement the fix
- [ ] Or use Ralph Wiggum workflow for iterative implementation:
      - Run `/ralph-plan` to generate PRD
      - Execute `./scripts/ralph/ralph.ps1` in terminal
- [ ] Update `ai-docs/common-pitfalls.md` if this is a recurring pattern
