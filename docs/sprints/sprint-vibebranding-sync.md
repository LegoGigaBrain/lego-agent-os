# Sprint Plan: VibeBranding Bidirectional Sync

Generated by `/ralph-plan` on 2026-01-22

---

## Summary

| Metric | Value |
|--------|-------|
| **Tasks** | 12 |
| **Estimated Iterations** | 60-90 |
| **Estimated Cost** | $6-14 |
| **Primary Agents** | @context-steward, @ralph-loop-architect |
| **Est. Duration** | 2-4 hours (sequential) |

---

## Task Overview

| # | Task | Agent | Category | Size | Deps |
|---|------|-------|----------|------|------|
| 1 | Create brand-focused agent-registry.json for VibeBranding | @context-steward | operations | M | - |
| 2 | Copy and adapt escalation-matrix.md to VibeBranding | @context-steward | operations | S | - |
| 3 | Copy and adapt agent-dependencies.yml to VibeBranding | @context-steward | operations | S | - |
| 4 | Copy Ralph loop files to VibeBranding | @context-steward | operations | S | - |
| 5 | Copy ralph-plan.md command to VibeBranding | @context-steward | operations | XS | 4 |
| 6 | Copy workflow commands to VibeBranding | @context-steward | operations | S | - |
| 7 | Copy templates and docs to VibeBranding | @context-steward | operations | S | - |
| 8 | Update VibeBranding agents with PRIMARY skill pattern | @context-steward | operations | M | 1 |
| 9 | Copy SignalOS standards to Main LEGO OS | @context-steward | operations | S | - |
| 10 | Copy additional brand skills to Main LEGO OS | @context-steward | operations | M | - |
| 11 | Merge MCP configuration | @context-steward | operations | S | - |
| 12 | Copy brand-project template to Main LEGO OS | @context-steward | operations | S | - |

---

## Dependency Graph

```
Phase 1: VibeBranding Updates (Tasks 1-8)
==========================================

[Task 1: agent-registry.json] ──┐
[Task 2: escalation-matrix]     │
[Task 3: agent-dependencies]    ├──→ [Task 8: Update agents with PRIMARY skill]
[Task 4: Ralph loop files] ─────┤
      ↓                         │
[Task 5: ralph-plan.md]         │
[Task 6: workflow commands]     │
[Task 7: templates/docs] ───────┘

Phase 2: Main LEGO OS Updates (Tasks 9-12)
==========================================

[Task 9: SignalOS standards]
[Task 10: brand skills]
[Task 11: MCP config]
[Task 12: brand-project template]

(Phase 2 tasks can run in parallel)
```

---

## Task Execution Order

### Task 1: Create brand-focused agent-registry.json for VibeBranding

**Metadata:**
- **Agent:** @context-steward
- **Category:** operations
- **Size:** M (20 iterations)
- **Estimated Iterations:** 15-25
- **Estimated Cost:** $1.50-3.75
- **Dependencies:** none
- **Escalation Points:** none

**Ralph Command:**
```bash
/ralph-loop "Create a brand-focused agent-registry.json for VibeBranding/.claude/. Adapt the main LEGO OS registry structure but focus on brand/content/creative agents. Include 24 agents (remove engineering-heavy ones), add brand-specific task routing categories (brand-strategy, brand-identity, verbal-identity, visual-identity, content, creative, marketing, social, community), and map all brand skills to agents. Reference .claude/agent-registry.json for structure." --max-iterations 25 --completion-promise "TASK_1_COMPLETE"
```

<details>
<summary>Full Ralph Prompt</summary>

## Task: Create brand-focused agent-registry.json for VibeBranding

### Context
VibeBranding is a brand-specialized fork of LEGO Agent OS. It needs its own agent registry optimized for brand/content/creative workflows.

### Standards (Auto-detected)
- `standards/global/code-style.md`

### Skills (Auto-detected)
- `skill-project-matrix`

### Agent Delegation
- **Primary:** @context-steward
- **Supporting:** @brand-strategist (brand task routing validation)
- **Escalate to:** @senior-architect (if JSON structure issues)
- **Review:** none

### Phases
1. **Read**: Load main agent-registry.json structure
2. **Analyze**: Identify brand-relevant agents (24 of 34)
3. **Create**: Write VibeBranding/.claude/agent-registry.json with:
   - Brand-focused agents (brand, content, marketing, design, research, operations)
   - Minimal engineering agents (senior-architect, backend-engineer, pragmatic-code-reviewer)
   - Brand-specific task_routing categories
   - Brand skill_to_agents mappings
4. **Verify**: Validate JSON syntax

### Verification Gates
- [ ] JSON is valid (no syntax errors)
- [ ] Contains 20-25 agents
- [ ] Has brand-specific task_routing categories
- [ ] skill_to_agents includes all VibeBranding skills

### Success Criteria
- Valid JSON file at VibeBranding/.claude/agent-registry.json
- Brand-focused agent selection
- Proper task routing for brand workflows

### Completion Promise
```
TASK_1_COMPLETE
```

</details>

---

### Task 2: Copy and adapt escalation-matrix.md to VibeBranding

**Metadata:**
- **Agent:** @context-steward
- **Category:** operations
- **Size:** S (10 iterations)
- **Estimated Iterations:** 5-10
- **Estimated Cost:** $0.50-1.50
- **Dependencies:** none
- **Escalation Points:** none

**Ralph Command:**
```bash
/ralph-loop "Copy .claude/escalation-matrix.md to VibeBranding/.claude/escalation-matrix.md. Adapt for brand focus: keep brand/content escalation targets, add brand-specific triggers (brand consistency, voice alignment, visual identity questions), reduce engineering-heavy triggers. Maintain the blocker protocol and Ralph loop integration sections." --max-iterations 15 --completion-promise "TASK_2_COMPLETE"
```

<details>
<summary>Full Ralph Prompt</summary>

## Task: Copy and adapt escalation-matrix.md to VibeBranding

### Context
VibeBranding needs an escalation matrix focused on brand/content blockers rather than engineering issues.

### Phases
1. **Read**: Load main escalation-matrix.md
2. **Adapt**: Modify for brand focus:
   - Add brand-specific mandatory triggers
   - Add brand-specific recommended triggers
   - Keep blocker protocol (works for all)
   - Keep Ralph loop integration
3. **Write**: Save to VibeBranding/.claude/escalation-matrix.md

### Success Criteria
- File exists at VibeBranding/.claude/escalation-matrix.md
- Contains brand-specific escalation triggers
- Maintains blocker protocol structure

### Completion Promise
```
TASK_2_COMPLETE
```

</details>

---

### Task 3: Copy and adapt agent-dependencies.yml to VibeBranding

**Metadata:**
- **Agent:** @context-steward
- **Category:** operations
- **Size:** S (10 iterations)
- **Estimated Iterations:** 5-10
- **Estimated Cost:** $0.50-1.50
- **Dependencies:** none
- **Escalation Points:** none

**Ralph Command:**
```bash
/ralph-loop "Copy .claude/agent-dependencies.yml to VibeBranding/.claude/agent-dependencies.yml. Adapt for brand focus: keep brand/content/marketing handoff paths, add brand_launch collaboration pattern as primary, reduce engineering handoff paths to minimal. Maintain YAML structure." --max-iterations 15 --completion-promise "TASK_3_COMPLETE"
```

---

### Task 4: Copy Ralph loop files to VibeBranding

**Metadata:**
- **Agent:** @context-steward
- **Category:** operations
- **Size:** S (10 iterations)
- **Estimated Iterations:** 5-10
- **Estimated Cost:** $0.50-1.50
- **Dependencies:** none
- **Escalation Points:** none

**Ralph Command:**
```bash
/ralph-loop "Copy Ralph loop files to VibeBranding: 1) .claude/agents/ralph-loop-architect.md → VibeBranding/.claude/agents/ralph-loop-architect.md, 2) .claude/commands/ralph-loop.md → VibeBranding/.claude/commands/ralph-loop.md, 3) .claude/skills/skill-ralph-wiggum.md → VibeBranding/.claude/skills/skill-ralph-wiggum.md. Copy files exactly without modification." --max-iterations 10 --completion-promise "TASK_4_COMPLETE"
```

---

### Task 5: Copy ralph-plan.md command to VibeBranding

**Metadata:**
- **Agent:** @context-steward
- **Category:** operations
- **Size:** XS (5 iterations)
- **Estimated Iterations:** 3-5
- **Estimated Cost:** $0.30-0.75
- **Dependencies:** Task 4
- **Escalation Points:** none

**Ralph Command:**
```bash
/ralph-loop "Copy .claude/commands/ralph-plan.md to VibeBranding/.claude/commands/ralph-plan.md. Copy file exactly without modification." --max-iterations 5 --completion-promise "TASK_5_COMPLETE"
```

---

### Task 6: Copy workflow commands to VibeBranding

**Metadata:**
- **Agent:** @context-steward
- **Category:** operations
- **Size:** S (10 iterations)
- **Estimated Iterations:** 5-10
- **Estimated Cost:** $0.50-1.50
- **Dependencies:** none
- **Escalation Points:** none

**Ralph Command:**
```bash
/ralph-loop "Copy workflow commands to VibeBranding: 1) .claude/commands/workflow-brand-launch.md → VibeBranding/.claude/commands/workflow-brand-launch.md, 2) .claude/commands/ai-docs-sync.md → VibeBranding/.claude/commands/ai-docs-sync.md. Copy files exactly." --max-iterations 10 --completion-promise "TASK_6_COMPLETE"
```

---

### Task 7: Copy templates and docs to VibeBranding

**Metadata:**
- **Agent:** @context-steward
- **Category:** operations
- **Size:** S (10 iterations)
- **Estimated Iterations:** 5-10
- **Estimated Cost:** $0.50-1.50
- **Dependencies:** none
- **Escalation Points:** none

**Ralph Command:**
```bash
/ralph-loop "Copy templates and docs to VibeBranding: 1) .claude/templates/sprint-plan.template.md → VibeBranding/.claude/templates/sprint-plan.template.md, 2) docs/lego-os/resource-allocation.md → VibeBranding/docs/lego-os/resource-allocation.md, 3) docs/lego-os/creation-flow.md → VibeBranding/docs/lego-os/creation-flow.md. Create directories if needed. Copy files exactly." --max-iterations 10 --completion-promise "TASK_7_COMPLETE"
```

---

### Task 8: Update VibeBranding agents with PRIMARY skill pattern

**Metadata:**
- **Agent:** @context-steward
- **Category:** operations
- **Size:** M (20 iterations)
- **Estimated Iterations:** 15-25
- **Estimated Cost:** $1.50-3.75
- **Dependencies:** Task 1
- **Escalation Points:** none

**Ralph Command:**
```bash
/ralph-loop "Update all VibeBranding agents to use the PRIMARY skill pattern. For each agent in VibeBranding/.claude/agents/, ensure the Standards Awareness section includes: '2. Use the dedicated skills in .claude/skills/: - **skill-[primary].md** (PRIMARY - [description]) - skill-[supporting].md (for [purpose])'. Key agents: brand-strategist (PRIMARY: skill-brand-launch), verbal-identity-designer (PRIMARY: skill-verbal-identity), vibe-marketer (PRIMARY: skill-vibe-marketing), content-strategist (PRIMARY: skill-content-strategy), visual-designer (PRIMARY: skill-visual-identity), ai-creative-strategist (PRIMARY: skill-ai-creative-stack)." --max-iterations 30 --completion-promise "TASK_8_COMPLETE"
```

---

### Task 9: Copy SignalOS standards to Main LEGO OS

**Metadata:**
- **Agent:** @context-steward
- **Category:** operations
- **Size:** S (10 iterations)
- **Estimated Iterations:** 5-10
- **Estimated Cost:** $0.50-1.50
- **Dependencies:** none
- **Escalation Points:** none

**Ralph Command:**
```bash
/ralph-loop "Copy SignalOS standards from VibeBranding to Main LEGO OS: 1) VibeBranding/standards/signalos/transmission-framework.md → standards/signalos/transmission-framework.md, 2) VibeBranding/standards/signalos/content-style-framework.md → standards/signalos/content-style-framework.md, 3) VibeBranding/standards/signalos/vibe-marketing.md → standards/signalos/vibe-marketing.md. Create standards/signalos/ directory if needed." --max-iterations 10 --completion-promise "TASK_9_COMPLETE"
```

---

### Task 10: Copy additional brand skills to Main LEGO OS

**Metadata:**
- **Agent:** @context-steward
- **Category:** operations
- **Size:** M (20 iterations)
- **Estimated Iterations:** 15-25
- **Estimated Cost:** $1.50-3.75
- **Dependencies:** none
- **Escalation Points:** none

**Ralph Command:**
```bash
/ralph-loop "Copy additional brand skills from VibeBranding to Main LEGO OS. Check which skills exist in VibeBranding/.claude/skills/ but NOT in .claude/skills/, then copy them. Key skills to copy: skill-social-captions.md, skill-seo-content.md (if not present), skill-geo-content.md (if not present). Do not overwrite existing skills." --max-iterations 20 --completion-promise "TASK_10_COMPLETE"
```

---

### Task 11: Merge MCP configuration

**Metadata:**
- **Agent:** @context-steward
- **Category:** operations
- **Size:** S (10 iterations)
- **Estimated Iterations:** 5-10
- **Estimated Cost:** $0.50-1.50
- **Dependencies:** none
- **Escalation Points:** none

**Ralph Command:**
```bash
/ralph-loop "Merge MCP configuration. Read VibeBranding/.mcp.json and .mcp.json. If .mcp.json exists, merge any missing MCP servers from VibeBranding. If not, copy VibeBranding/.mcp.json. Document which MCP integrations are available: Notion, Replicate, Glif, Perplexity, Firecrawl." --max-iterations 10 --completion-promise "TASK_11_COMPLETE"
```

---

### Task 12: Copy brand-project template to Main LEGO OS

**Metadata:**
- **Agent:** @context-steward
- **Category:** operations
- **Size:** S (10 iterations)
- **Estimated Iterations:** 5-10
- **Estimated Cost:** $0.50-1.50
- **Dependencies:** none
- **Escalation Points:** none

**Ralph Command:**
```bash
/ralph-loop "Copy brand-project template from VibeBranding to Main LEGO OS. If VibeBranding/templates/brand-project/ exists, copy entire directory to templates/brand-project/. This includes CLAUDE.md template, brand/ folder structure, content/ folder structure." --max-iterations 10 --completion-promise "TASK_12_COMPLETE"
```

---

## Verification Gates

After all tasks complete:

- [ ] All completion promises received
- [ ] VibeBranding has agent-registry.json
- [ ] VibeBranding has escalation-matrix.md
- [ ] VibeBranding has agent-dependencies.yml
- [ ] VibeBranding has Ralph loop files
- [ ] VibeBranding agents have PRIMARY skill pattern
- [ ] Main LEGO OS has SignalOS standards
- [ ] Main LEGO OS has additional brand skills
- [ ] MCP configuration is merged

---

## Budget Tracking

| Task | Estimated | Actual | Iterations | Status |
|------|-----------|--------|------------|--------|
| Task 1: agent-registry.json | $1.50-3.75 | - | - | pending |
| Task 2: escalation-matrix | $0.50-1.50 | - | - | pending |
| Task 3: agent-dependencies | $0.50-1.50 | - | - | pending |
| Task 4: Ralph loop files | $0.50-1.50 | - | - | pending |
| Task 5: ralph-plan.md | $0.30-0.75 | - | - | pending |
| Task 6: workflow commands | $0.50-1.50 | - | - | pending |
| Task 7: templates/docs | $0.50-1.50 | - | - | pending |
| Task 8: PRIMARY skill pattern | $1.50-3.75 | - | - | pending |
| Task 9: SignalOS standards | $0.50-1.50 | - | - | pending |
| Task 10: brand skills | $1.50-3.75 | - | - | pending |
| Task 11: MCP config | $0.50-1.50 | - | - | pending |
| Task 12: brand-project template | $0.50-1.50 | - | - | pending |
| **Total** | **$6-14** | $0 | 0 | - |

---

## Execution Commands

> **NOTE**: This sprint plan was created before the canonical Ralph workflow update.
> The /ralph-loop plugin has been deprecated. Use the canonical workflow instead.

### Canonical Workflow (Recommended)

1. Generate PRD from this plan:
```
/ralph-plan
```

2. Execute in terminal:
```powershell
./scripts/ralph/ralph.ps1 -MaxIterations 50
```

3. For parallel execution:
```powershell
./scripts/ralph/ralph.ps1 -Parallel -Workers 3 -MaxIterations 50
```

### Legacy Commands (Deprecated)
The individual task commands in this document use the old `/ralph-loop` syntax which is no longer supported. Convert task descriptions to PRD.md checkboxes for canonical execution.

---

## Escalation Plan

| Task | Trigger | Escalate To |
|------|---------|-------------|
| Task 1 (registry) | Invalid JSON structure | @senior-architect |
| Task 8 (PRIMARY skill) | Inconsistent agent formats | @brand-strategist |
| Any task | 5 failed iterations | @senior-architect |

---

## Notes

- This is a file-heavy sync operation, primarily copy/adapt tasks
- Most tasks can run in parallel within their phase
- Task 8 depends on Task 1 for registry validation
- Phase 2 tasks are independent and can all run in parallel
- No code review needed (documentation/config changes only)

---

## Sprint Completion

When all tasks are complete, verify:

1. All `TASK_N_COMPLETE` promises received
2. Run verification:
   ```bash
   # Check VibeBranding files exist
   ls VibeBranding/.claude/agent-registry.json
   ls VibeBranding/.claude/escalation-matrix.md
   ls VibeBranding/.claude/agent-dependencies.yml
   ls VibeBranding/.claude/agents/ralph-loop-architect.md

   # Check Main LEGO OS files exist
   ls standards/signalos/
   ls .mcp.json
   ```
3. Update this document with actual costs
4. Archive to `docs/sprints/completed/`

---

*Generated by LEGO Agent OS Ralph Plan Mode*
